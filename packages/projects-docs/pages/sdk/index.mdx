---
title: CodeSandbox SDK
description: Learn how CodeSandbox SDK works and the different types of projects you can create and develop.
---

import Hero from "../../../../shared-components/Hero.js";
import { Callout } from 'nextra-theme-docs'

<Hero
  title="CodeSandbox SDK"
  subtitle="Programmatically spin up (AI) sandboxes"
/>

CodeSandbox SDK (beta) enables you to quickly create and run isolated sandboxes securely.
The SDK can be used to run concurrent VMs to support multiple use cases such as AI agents, code interpretation and [more](/sdk/use-cases.mdx)

## How it works

The SDK can spin up a sandbox by cloning a template in under 3 seconds. Inside this VM, you can run any code, install any dependencies and even run servers.

The sandboxes run on the same infrastructure as CodeSandbox, which means you can clone, snapshot and restore sandboxes at any point in time (checkpointing).

Under the hood, the SDK uses the microVM infrastructure of CodeSandbox to spin up sandboxes. It supports:

1. Memory snapshot/restore (checkpointing) at any point in time
2. Resume/clone VMs from a snapshot in 3 seconds
3. VM FS persistence (with `git` version control)
4. Environment customization using Docker & Docker Compose (Dev Containers)

## Quickstart

Create or log into your [CodeSandbox account](https://codesandbox.io/signin).

Next create an API key at [https://codesandbox.io/t/api](https://codesandbox.io/t/api), and enable all scopes.

Install the SDK:

```bash
npm install @codesandbox/sdk
```

Now you can create a sandbox and run a server:

```js
import { CodeSandbox } from "@codesandbox/sdk";

// Create your first sandbox by calling sandbox.create()
const sdk = new CodeSandbox(process.env.CSB_API_KEY!);
const sandbox = await sdk.sandbox.create();

// Run your first command in your new Sandbox shell:
await sandbox.shells.python.run("print(1+1)");
await sandbox.shells.run('echo "Hello World"');

// You can also start shells in the background by not awaiting them
const shellInfo = sandbox.shells.run("npx -y serve .");

// Wait for the port to open:
const portInfo = await sandbox.ports.waitForPort(3000);
console.log(portInfo.getPreviewUrl());

// And, you can clone(!) the sandbox! This takes 1-3s.
const sandbox2 = await sandbox.fork();

// Sandbox 2 will have the same processes running as sandbox 1
const portInfo2 = await sandbox2.ports.waitForPort(3000);
console.log(portInfo2.getPreviewUrl());

// Finally, you can hibernate the sandbox.
// This will create a snapshot the sandbox to save your project and then stop it.
// Next time you start the sandbox, it will use the snapshot continue where you left off.
// The sandboxes will also automatically resume if a network request comes in for the
// servers they have started.
await sandbox.hibernate();
await sandbox2.hibernate();

// To resume the sandbox manually:
const resumedSandbox = await sdk.sandbox.open(sandbox.id);
```

<Callout>
The `connect` method connects you to the sandbox with a websocket connection, but you can also use `createBrowserSession` or `createRestSession` for other types of connections.
</Callout>
